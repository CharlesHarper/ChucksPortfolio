{"ast":null,"code":"import _slicedToArray from \"/Users/charlesharper/Desktop/Chuck2020/MDB-React-Pro-npm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/Users/charlesharper/Desktop/Chuck2020/MDB-React-Pro-npm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/charlesharper/Desktop/Chuck2020/MDB-React-Pro-npm/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport domReady from 'lite-ready';\nimport raf from 'rafl';\nimport { window } from 'global';\nvar isIE = navigator.userAgent.indexOf('MSIE ') > -1 || navigator.userAgent.indexOf('Trident/') > -1 || navigator.userAgent.indexOf('Edge/') > -1;\nvar isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n\nvar supportTransform = function () {\n  var prefixes = 'transform WebkitTransform MozTransform'.split(' ');\n  var div = document.createElement('div');\n\n  for (var i = 0; i < prefixes.length; i++) {\n    if (div && div.style[prefixes[i]] !== undefined) {\n      return prefixes[i];\n    }\n  }\n\n  return false;\n}();\n\nvar $deviceHelper;\n/**\n * The most popular mobile browsers changes height after page scroll and this generates image jumping.\n * We can fix it using this workaround with vh units.\n */\n\nfunction getDeviceHeight() {\n  if (!$deviceHelper && document.body) {\n    $deviceHelper = document.createElement('div');\n    $deviceHelper.style.cssText = 'position: fixed; top: -9999px; left: 0; height: 100vh; width: 0;';\n    document.body.appendChild($deviceHelper);\n  }\n\n  return ($deviceHelper ? $deviceHelper.clientHeight : 0) || window.innerHeight || document.documentElement.clientHeight;\n} // Window height data\n\n\nvar wndH;\n\nfunction updateWndVars() {\n  if (isMobile) {\n    wndH = getDeviceHeight();\n  } else {\n    wndH = window.innerHeight || document.documentElement.clientHeight;\n  }\n}\n\nupdateWndVars();\nwindow.addEventListener('resize', updateWndVars);\nwindow.addEventListener('orientationchange', updateWndVars);\nwindow.addEventListener('load', updateWndVars);\ndomReady(function () {\n  updateWndVars({\n    type: 'dom-loaded'\n  });\n}); // list with all jarallax instances\n// need to render all in one scroll/resize event\n\nvar jarallaxList = []; // get all parents of the element.\n\nfunction getParents(elem) {\n  var parents = [];\n\n  while (elem.parentElement !== null) {\n    elem = elem.parentElement;\n\n    if (elem.nodeType === 1) {\n      parents.push(elem);\n    }\n  }\n\n  return parents;\n}\n\nfunction updateParallax() {\n  if (!jarallaxList.length) {\n    return;\n  }\n\n  jarallaxList.forEach(function (data, k) {\n    var instance = data.instance,\n        oldData = data.oldData;\n    var clientRect = instance.$item.getBoundingClientRect();\n    var newData = {\n      width: clientRect.width,\n      height: clientRect.height,\n      top: clientRect.top,\n      bottom: clientRect.bottom,\n      wndW: window.innerWidth,\n      wndH: wndH\n    };\n    var isResized = !oldData || oldData.wndW !== newData.wndW || oldData.wndH !== newData.wndH || oldData.width !== newData.width || oldData.height !== newData.height;\n    var isScrolled = isResized || !oldData || oldData.top !== newData.top || oldData.bottom !== newData.bottom;\n    jarallaxList[k].oldData = newData;\n\n    if (isResized) {\n      instance.onResize();\n    }\n\n    if (isScrolled) {\n      instance.onScroll();\n    }\n  });\n  raf(updateParallax);\n}\n\nvar instanceID = 0; // Jarallax class\n\nvar Jarallax = /*#__PURE__*/function () {\n  function Jarallax(item, userOptions) {\n    _classCallCheck(this, Jarallax);\n\n    var self = this;\n    self.instanceID = instanceID++;\n    self.$item = item;\n    self.defaults = {\n      type: 'scroll',\n      // type of parallax: scroll, scale, opacity, scale-opacity, scroll-opacity\n      speed: 0.5,\n      // supported value from -1 to 2\n      imgSrc: null,\n      imgElement: '.jarallax-img',\n      imgSize: 'cover',\n      imgPosition: '50% 50%',\n      imgRepeat: 'no-repeat',\n      // supported only for background, not for <img> tag\n      keepImg: false,\n      // keep <img> tag in it's default place\n      elementInViewport: null,\n      zIndex: -100,\n      disableParallax: false,\n      disableVideo: false,\n      // video\n      videoSrc: null,\n      videoStartTime: 0,\n      videoEndTime: 0,\n      videoVolume: 0,\n      videoLoop: true,\n      videoPlayOnlyVisible: true,\n      videoLazyLoading: true,\n      // events\n      onScroll: null,\n      // function(calculations) {}\n      onInit: null,\n      // function() {}\n      onDestroy: null,\n      // function() {}\n      onCoverImage: null // function() {}\n\n    }; // prepare data-options\n\n    var dataOptions = self.$item.dataset || {};\n    var pureDataOptions = {};\n    Object.keys(dataOptions).forEach(function (key) {\n      var loweCaseOption = key.substr(0, 1).toLowerCase() + key.substr(1);\n\n      if (loweCaseOption && typeof self.defaults[loweCaseOption] !== 'undefined') {\n        pureDataOptions[loweCaseOption] = dataOptions[key];\n      }\n    });\n    self.options = self.extend({}, self.defaults, pureDataOptions, userOptions);\n    self.pureOptions = self.extend({}, self.options); // prepare 'true' and 'false' strings to boolean\n\n    Object.keys(self.options).forEach(function (key) {\n      if (self.options[key] === 'true') {\n        self.options[key] = true;\n      } else if (self.options[key] === 'false') {\n        self.options[key] = false;\n      }\n    }); // fix speed option [-1.0, 2.0]\n\n    self.options.speed = Math.min(2, Math.max(-1, parseFloat(self.options.speed))); // prepare disableParallax callback\n\n    if (typeof self.options.disableParallax === 'string') {\n      self.options.disableParallax = new RegExp(self.options.disableParallax);\n    }\n\n    if (self.options.disableParallax instanceof RegExp) {\n      var disableParallaxRegexp = self.options.disableParallax;\n\n      self.options.disableParallax = function () {\n        return disableParallaxRegexp.test(navigator.userAgent);\n      };\n    }\n\n    if (typeof self.options.disableParallax !== 'function') {\n      self.options.disableParallax = function () {\n        return false;\n      };\n    } // prepare disableVideo callback\n\n\n    if (typeof self.options.disableVideo === 'string') {\n      self.options.disableVideo = new RegExp(self.options.disableVideo);\n    }\n\n    if (self.options.disableVideo instanceof RegExp) {\n      var disableVideoRegexp = self.options.disableVideo;\n\n      self.options.disableVideo = function () {\n        return disableVideoRegexp.test(navigator.userAgent);\n      };\n    }\n\n    if (typeof self.options.disableVideo !== 'function') {\n      self.options.disableVideo = function () {\n        return false;\n      };\n    } // custom element to check if parallax in viewport\n\n\n    var elementInVP = self.options.elementInViewport; // get first item from array\n\n    if (elementInVP && typeof elementInVP === 'object' && typeof elementInVP.length !== 'undefined') {\n      var _elementInVP = elementInVP;\n\n      var _elementInVP2 = _slicedToArray(_elementInVP, 1);\n\n      elementInVP = _elementInVP2[0];\n    } // check if dom element\n\n\n    if (!(elementInVP instanceof Element)) {\n      elementInVP = null;\n    }\n\n    self.options.elementInViewport = elementInVP;\n    self.image = {\n      src: self.options.imgSrc || null,\n      $container: null,\n      useImgTag: false,\n      // position fixed is needed for the most of browsers because absolute position have glitches\n      // on MacOS with smooth scroll there is a huge lags with absolute position - https://github.com/nk-o/jarallax/issues/75\n      // on mobile devices better scrolled with absolute position\n      position: /iPad|iPhone|iPod|Android/.test(navigator.userAgent) ? 'absolute' : 'fixed'\n    };\n\n    if (self.initImg() && self.canInitParallax()) {\n      self.init();\n    }\n  } // add styles to element\n\n\n  _createClass(Jarallax, [{\n    key: \"css\",\n    value: function css(el, styles) {\n      if (typeof styles === 'string') {\n        return window.getComputedStyle(el).getPropertyValue(styles);\n      } // add transform property with vendor prefix\n\n\n      if (styles.transform && supportTransform) {\n        styles[supportTransform] = styles.transform;\n      }\n\n      Object.keys(styles).forEach(function (key) {\n        el.style[key] = styles[key];\n      });\n      return el;\n    } // Extend like jQuery.extend\n\n  }, {\n    key: \"extend\",\n    value: function extend(out) {\n      var _arguments = arguments;\n      out = out || {};\n      Object.keys(arguments).forEach(function (i) {\n        if (!_arguments[i]) {\n          return;\n        }\n\n        Object.keys(_arguments[i]).forEach(function (key) {\n          out[key] = _arguments[i][key];\n        });\n      });\n      return out;\n    } // get window size and scroll position. Useful for extensions\n\n  }, {\n    key: \"getWindowData\",\n    value: function getWindowData() {\n      return {\n        width: window.innerWidth || document.documentElement.clientWidth,\n        height: wndH,\n        y: document.documentElement.scrollTop\n      };\n    } // Jarallax functions\n\n  }, {\n    key: \"initImg\",\n    value: function initImg() {\n      var self = this; // find image element\n\n      var $imgElement = self.options.imgElement;\n\n      if ($imgElement && typeof $imgElement === 'string') {\n        $imgElement = self.$item.querySelector($imgElement);\n      } // check if dom element\n\n\n      if (!($imgElement instanceof Element)) {\n        if (self.options.imgSrc) {\n          $imgElement = new Image();\n          $imgElement.src = self.options.imgSrc;\n        } else {\n          $imgElement = null;\n        }\n      }\n\n      if ($imgElement) {\n        if (self.options.keepImg) {\n          self.image.$item = $imgElement.cloneNode(true);\n        } else {\n          self.image.$item = $imgElement;\n          self.image.$itemParent = $imgElement.parentNode;\n        }\n\n        self.image.useImgTag = true;\n      } // true if there is img tag\n\n\n      if (self.image.$item) {\n        return true;\n      } // get image src\n\n\n      if (self.image.src === null) {\n        self.image.src = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n        self.image.bgImage = self.css(self.$item, 'background-image');\n      }\n\n      return !(!self.image.bgImage || self.image.bgImage === 'none');\n    }\n  }, {\n    key: \"canInitParallax\",\n    value: function canInitParallax() {\n      return supportTransform && !this.options.disableParallax();\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      var self = this;\n      var containerStyles = {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        overflow: 'hidden',\n        pointerEvents: 'none'\n      };\n      var imageStyles = {};\n\n      if (!self.options.keepImg) {\n        // save default user styles\n        var curStyle = self.$item.getAttribute('style');\n\n        if (curStyle) {\n          self.$item.setAttribute('data-jarallax-original-styles', curStyle);\n        }\n\n        if (self.image.useImgTag) {\n          var curImgStyle = self.image.$item.getAttribute('style');\n\n          if (curImgStyle) {\n            self.image.$item.setAttribute('data-jarallax-original-styles', curImgStyle);\n          }\n        }\n      } // set relative position and z-index to the parent\n\n\n      if (self.css(self.$item, 'position') === 'static') {\n        self.css(self.$item, {\n          position: 'relative'\n        });\n      }\n\n      if (self.css(self.$item, 'z-index') === 'auto') {\n        self.css(self.$item, {\n          zIndex: 0\n        });\n      } // container for parallax image\n\n\n      self.image.$container = document.createElement('div');\n      self.css(self.image.$container, containerStyles);\n      self.css(self.image.$container, {\n        'z-index': self.options.zIndex\n      }); // fix for IE https://github.com/nk-o/jarallax/issues/110\n\n      if (isIE) {\n        self.css(self.image.$container, {\n          opacity: 0.9999\n        });\n      }\n\n      self.image.$container.setAttribute('id', \"jarallax-container-\".concat(self.instanceID));\n      self.$item.appendChild(self.image.$container); // use img tag\n\n      if (self.image.useImgTag) {\n        imageStyles = self.extend({\n          'object-fit': self.options.imgSize,\n          'object-position': self.options.imgPosition,\n          // support for plugin https://github.com/bfred-it/object-fit-images\n          'font-family': \"object-fit: \".concat(self.options.imgSize, \"; object-position: \").concat(self.options.imgPosition, \";\"),\n          'max-width': 'none'\n        }, containerStyles, imageStyles); // use div with background image\n      } else {\n        self.image.$item = document.createElement('div');\n\n        if (self.image.src) {\n          imageStyles = self.extend({\n            'background-position': self.options.imgPosition,\n            'background-size': self.options.imgSize,\n            'background-repeat': self.options.imgRepeat,\n            'background-image': self.image.bgImage || \"url(\\\"\".concat(self.image.src, \"\\\")\")\n          }, containerStyles, imageStyles);\n        }\n      }\n\n      if (self.options.type === 'opacity' || self.options.type === 'scale' || self.options.type === 'scale-opacity' || self.options.speed === 1) {\n        self.image.position = 'absolute';\n      } // 1. Check if one of parents have transform style (without this check, scroll transform will be inverted if used parallax with position fixed)\n      //    discussion - https://github.com/nk-o/jarallax/issues/9\n      // 2. Check if parents have overflow scroll\n\n\n      if (self.image.position === 'fixed') {\n        var $parents = getParents(self.$item).filter(function (el) {\n          var styles = window.getComputedStyle(el);\n          var parentTransform = styles['-webkit-transform'] || styles['-moz-transform'] || styles.transform;\n          var overflowRegex = /(auto|scroll)/;\n          return parentTransform && parentTransform !== 'none' || overflowRegex.test(styles.overflow + styles['overflow-y'] + styles['overflow-x']);\n        });\n        self.image.position = $parents.length ? 'absolute' : 'fixed';\n      } // add position to parallax block\n\n\n      imageStyles.position = self.image.position; // insert parallax image\n\n      self.css(self.image.$item, imageStyles);\n      self.image.$container.appendChild(self.image.$item); // set initial position and size\n\n      self.onResize();\n      self.onScroll(true); // call onInit event\n\n      if (self.options.onInit) {\n        self.options.onInit.call(self);\n      } // remove default user background\n\n\n      if (self.css(self.$item, 'background-image') !== 'none') {\n        self.css(self.$item, {\n          'background-image': 'none'\n        });\n      }\n\n      self.addToParallaxList();\n    } // add to parallax instances list\n\n  }, {\n    key: \"addToParallaxList\",\n    value: function addToParallaxList() {\n      jarallaxList.push({\n        instance: this\n      });\n\n      if (jarallaxList.length === 1) {\n        updateParallax();\n      }\n    } // remove from parallax instances list\n\n  }, {\n    key: \"removeFromParallaxList\",\n    value: function removeFromParallaxList() {\n      var self = this;\n      jarallaxList.forEach(function (data, key) {\n        if (data.instance.instanceID === self.instanceID) {\n          jarallaxList.splice(key, 1);\n        }\n      });\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var self = this;\n      self.removeFromParallaxList(); // return styles on container as before jarallax init\n\n      var originalStylesTag = self.$item.getAttribute('data-jarallax-original-styles');\n      self.$item.removeAttribute('data-jarallax-original-styles'); // null occurs if there is no style tag before jarallax init\n\n      if (!originalStylesTag) {\n        self.$item.removeAttribute('style');\n      } else {\n        self.$item.setAttribute('style', originalStylesTag);\n      }\n\n      if (self.image.useImgTag) {\n        // return styles on img tag as before jarallax init\n        var originalStylesImgTag = self.image.$item.getAttribute('data-jarallax-original-styles');\n        self.image.$item.removeAttribute('data-jarallax-original-styles'); // null occurs if there is no style tag before jarallax init\n\n        if (!originalStylesImgTag) {\n          self.image.$item.removeAttribute('style');\n        } else {\n          self.image.$item.setAttribute('style', originalStylesTag);\n        } // move img tag to its default position\n\n\n        if (self.image.$itemParent) {\n          self.image.$itemParent.appendChild(self.image.$item);\n        }\n      } // remove additional dom elements\n\n\n      if (self.$clipStyles) {\n        self.$clipStyles.parentNode.removeChild(self.$clipStyles);\n      }\n\n      if (self.image.$container) {\n        self.image.$container.parentNode.removeChild(self.image.$container);\n      } // call onDestroy event\n\n\n      if (self.options.onDestroy) {\n        self.options.onDestroy.call(self);\n      } // delete jarallax from item\n\n\n      delete self.$item.jarallax;\n    } // it will remove some image overlapping\n    // overlapping occur due to an image position fixed inside absolute position element\n\n  }, {\n    key: \"clipContainer\",\n    value: function clipContainer() {\n      // needed only when background in fixed position\n      if (this.image.position !== 'fixed') {\n        return;\n      }\n\n      var self = this;\n      var rect = self.image.$container.getBoundingClientRect();\n      var width = rect.width,\n          height = rect.height;\n\n      if (!self.$clipStyles) {\n        self.$clipStyles = document.createElement('style');\n        self.$clipStyles.setAttribute('type', 'text/css');\n        self.$clipStyles.setAttribute('id', \"jarallax-clip-\".concat(self.instanceID));\n        var head = document.head || document.getElementsByTagName('head')[0];\n        head.appendChild(self.$clipStyles);\n      }\n\n      var styles = \"#jarallax-container-\".concat(self.instanceID, \" {\\n           clip: rect(0 \").concat(width, \"px \").concat(height, \"px 0);\\n           clip: rect(0, \").concat(width, \"px, \").concat(height, \"px, 0);\\n        }\"); // add clip styles inline (this method need for support IE8 and less browsers)\n\n      if (self.$clipStyles.styleSheet) {\n        self.$clipStyles.styleSheet.cssText = styles;\n      } else {\n        self.$clipStyles.innerHTML = styles;\n      }\n    }\n  }, {\n    key: \"coverImage\",\n    value: function coverImage() {\n      var self = this;\n      var rect = self.image.$container.getBoundingClientRect();\n      var contH = rect.height;\n      var speed = self.options.speed;\n      var isScroll = self.options.type === 'scroll' || self.options.type === 'scroll-opacity';\n      var scrollDist = 0;\n      var resultH = contH;\n      var resultMT = 0; // scroll parallax\n\n      if (isScroll) {\n        // scroll distance and height for image\n        if (speed < 0) {\n          scrollDist = speed * Math.max(contH, wndH);\n\n          if (wndH < contH) {\n            scrollDist -= speed * (contH - wndH);\n          }\n        } else {\n          scrollDist = speed * (contH + wndH);\n        } // size for scroll parallax\n\n\n        if (speed > 1) {\n          resultH = Math.abs(scrollDist - wndH);\n        } else if (speed < 0) {\n          resultH = scrollDist / speed + Math.abs(scrollDist);\n        } else {\n          resultH += (wndH - contH) * (1 - speed);\n        }\n\n        scrollDist /= 2;\n      } // store scroll distance\n\n\n      self.parallaxScrollDistance = scrollDist; // vertical center\n\n      if (isScroll) {\n        resultMT = (wndH - resultH) / 2;\n      } else {\n        resultMT = (contH - resultH) / 2;\n      } // apply result to item\n\n\n      self.css(self.image.$item, {\n        height: \"\".concat(resultH, \"px\"),\n        marginTop: \"\".concat(resultMT, \"px\"),\n        left: self.image.position === 'fixed' ? \"\".concat(rect.left, \"px\") : '0',\n        width: \"\".concat(rect.width, \"px\")\n      }); // call onCoverImage event\n\n      if (self.options.onCoverImage) {\n        self.options.onCoverImage.call(self);\n      } // return some useful data. Used in the video cover function\n\n\n      return {\n        image: {\n          height: resultH,\n          marginTop: resultMT\n        },\n        container: rect\n      };\n    }\n  }, {\n    key: \"isVisible\",\n    value: function isVisible() {\n      return this.isElementInViewport || false;\n    }\n  }, {\n    key: \"onScroll\",\n    value: function onScroll(force) {\n      var self = this;\n      var rect = self.$item.getBoundingClientRect();\n      var contT = rect.top;\n      var contH = rect.height;\n      var styles = {}; // check if in viewport\n\n      var viewportRect = rect;\n\n      if (self.options.elementInViewport) {\n        viewportRect = self.options.elementInViewport.getBoundingClientRect();\n      }\n\n      self.isElementInViewport = viewportRect.bottom >= 0 && viewportRect.right >= 0 && viewportRect.top <= wndH && viewportRect.left <= window.innerWidth; // stop calculations if item is not in viewport\n\n      if (force ? false : !self.isElementInViewport) {\n        return;\n      } // calculate parallax helping variables\n\n\n      var beforeTop = Math.max(0, contT);\n      var beforeTopEnd = Math.max(0, contH + contT);\n      var afterTop = Math.max(0, -contT);\n      var beforeBottom = Math.max(0, contT + contH - wndH);\n      var beforeBottomEnd = Math.max(0, contH - (contT + contH - wndH));\n      var afterBottom = Math.max(0, -contT + wndH - contH);\n      var fromViewportCenter = 1 - 2 * (wndH - contT) / (wndH + contH); // calculate on how percent of section is visible\n\n      var visiblePercent = 1;\n\n      if (contH < wndH) {\n        visiblePercent = 1 - (afterTop || beforeBottom) / contH;\n      } else if (beforeTopEnd <= wndH) {\n        visiblePercent = beforeTopEnd / wndH;\n      } else if (beforeBottomEnd <= wndH) {\n        visiblePercent = beforeBottomEnd / wndH;\n      } // opacity\n\n\n      if (self.options.type === 'opacity' || self.options.type === 'scale-opacity' || self.options.type === 'scroll-opacity') {\n        styles.transform = 'translate3d(0,0,0)';\n        styles.opacity = visiblePercent;\n      } // scale\n\n\n      if (self.options.type === 'scale' || self.options.type === 'scale-opacity') {\n        var scale = 1;\n\n        if (self.options.speed < 0) {\n          scale -= self.options.speed * visiblePercent;\n        } else {\n          scale += self.options.speed * (1 - visiblePercent);\n        }\n\n        styles.transform = \"scale(\".concat(scale, \") translate3d(0,0,0)\");\n      } // scroll\n\n\n      if (self.options.type === 'scroll' || self.options.type === 'scroll-opacity') {\n        var positionY = self.parallaxScrollDistance * fromViewportCenter; // fix if parallax block in absolute position\n\n        if (self.image.position === 'absolute') {\n          positionY -= contT;\n        }\n\n        styles.transform = \"translate3d(0,\".concat(positionY, \"px,0)\");\n      }\n\n      self.css(self.image.$item, styles); // call onScroll event\n\n      if (self.options.onScroll) {\n        self.options.onScroll.call(self, {\n          section: rect,\n          beforeTop: beforeTop,\n          beforeTopEnd: beforeTopEnd,\n          afterTop: afterTop,\n          beforeBottom: beforeBottom,\n          beforeBottomEnd: beforeBottomEnd,\n          afterBottom: afterBottom,\n          visiblePercent: visiblePercent,\n          fromViewportCenter: fromViewportCenter\n        });\n      }\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize() {\n      this.coverImage();\n      this.clipContainer();\n    }\n  }]);\n\n  return Jarallax;\n}(); // global definition\n\n\nvar plugin = function plugin(items) {\n  // check for dom element\n  // thanks: http://stackoverflow.com/questions/384286/javascript-isdom-how-do-you-check-if-a-javascript-object-is-a-dom-object\n  if (typeof HTMLElement === 'object' ? items instanceof HTMLElement : items && typeof items === 'object' && items !== null && items.nodeType === 1 && typeof items.nodeName === 'string') {\n    items = [items];\n  }\n\n  var options = arguments[1];\n  var args = Array.prototype.slice.call(arguments, 2);\n  var len = items.length;\n  var k = 0;\n  var ret;\n\n  for (k; k < len; k++) {\n    if (typeof options === 'object' || typeof options === 'undefined') {\n      if (!items[k].jarallax) {\n        items[k].jarallax = new Jarallax(items[k], options);\n      }\n    } else if (items[k].jarallax) {\n      // eslint-disable-next-line prefer-spread\n      ret = items[k].jarallax[options].apply(items[k].jarallax, args);\n    }\n\n    if (typeof ret !== 'undefined') {\n      return ret;\n    }\n  }\n\n  return items;\n};\n\nplugin.constructor = Jarallax;\nexport default plugin;","map":{"version":3,"sources":["/Users/charlesharper/Desktop/Chuck2020/MDB-React-Pro-npm/node_modules/jarallax/src/jarallax.esm.js"],"names":["domReady","raf","window","isIE","navigator","userAgent","indexOf","isMobile","test","supportTransform","prefixes","split","div","document","createElement","i","length","style","undefined","$deviceHelper","getDeviceHeight","body","cssText","appendChild","clientHeight","innerHeight","documentElement","wndH","updateWndVars","addEventListener","type","jarallaxList","getParents","elem","parents","parentElement","nodeType","push","updateParallax","forEach","data","k","instance","oldData","clientRect","$item","getBoundingClientRect","newData","width","height","top","bottom","wndW","innerWidth","isResized","isScrolled","onResize","onScroll","instanceID","Jarallax","item","userOptions","self","defaults","speed","imgSrc","imgElement","imgSize","imgPosition","imgRepeat","keepImg","elementInViewport","zIndex","disableParallax","disableVideo","videoSrc","videoStartTime","videoEndTime","videoVolume","videoLoop","videoPlayOnlyVisible","videoLazyLoading","onInit","onDestroy","onCoverImage","dataOptions","dataset","pureDataOptions","Object","keys","key","loweCaseOption","substr","toLowerCase","options","extend","pureOptions","Math","min","max","parseFloat","RegExp","disableParallaxRegexp","disableVideoRegexp","elementInVP","Element","image","src","$container","useImgTag","position","initImg","canInitParallax","init","el","styles","getComputedStyle","getPropertyValue","transform","out","arguments","clientWidth","y","scrollTop","$imgElement","querySelector","Image","cloneNode","$itemParent","parentNode","bgImage","css","containerStyles","left","overflow","pointerEvents","imageStyles","curStyle","getAttribute","setAttribute","curImgStyle","opacity","$parents","filter","parentTransform","overflowRegex","call","addToParallaxList","splice","removeFromParallaxList","originalStylesTag","removeAttribute","originalStylesImgTag","$clipStyles","removeChild","jarallax","rect","head","getElementsByTagName","styleSheet","innerHTML","contH","isScroll","scrollDist","resultH","resultMT","abs","parallaxScrollDistance","marginTop","container","isElementInViewport","force","contT","viewportRect","right","beforeTop","beforeTopEnd","afterTop","beforeBottom","beforeBottomEnd","afterBottom","fromViewportCenter","visiblePercent","scale","positionY","section","coverImage","clipContainer","plugin","items","HTMLElement","nodeName","args","Array","prototype","slice","len","ret","apply","constructor"],"mappings":"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","sourcesContent":["import domReady from 'lite-ready';\nimport raf from 'rafl';\nimport { window } from 'global';\n\nconst isIE = navigator.userAgent.indexOf('MSIE ') > -1 || navigator.userAgent.indexOf('Trident/') > -1 || navigator.userAgent.indexOf('Edge/') > -1;\nconst isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n\nconst supportTransform = (() => {\n    const prefixes = 'transform WebkitTransform MozTransform'.split(' ');\n    const div = document.createElement('div');\n    for (let i = 0; i < prefixes.length; i++) {\n        if (div && div.style[prefixes[i]] !== undefined) {\n            return prefixes[i];\n        }\n    }\n    return false;\n})();\n\nlet $deviceHelper;\n\n/**\n * The most popular mobile browsers changes height after page scroll and this generates image jumping.\n * We can fix it using this workaround with vh units.\n */\nfunction getDeviceHeight() {\n    if (!$deviceHelper && document.body) {\n        $deviceHelper = document.createElement('div');\n        $deviceHelper.style.cssText = 'position: fixed; top: -9999px; left: 0; height: 100vh; width: 0;';\n        document.body.appendChild($deviceHelper);\n    }\n\n    return ($deviceHelper ? $deviceHelper.clientHeight : 0) || window.innerHeight || document.documentElement.clientHeight;\n}\n\n// Window height data\nlet wndH;\nfunction updateWndVars() {\n    if (isMobile) {\n        wndH = getDeviceHeight();\n    } else {\n        wndH = window.innerHeight || document.documentElement.clientHeight;\n    }\n}\nupdateWndVars();\nwindow.addEventListener('resize', updateWndVars);\nwindow.addEventListener('orientationchange', updateWndVars);\nwindow.addEventListener('load', updateWndVars);\ndomReady(() => {\n    updateWndVars({\n        type: 'dom-loaded',\n    });\n});\n\n// list with all jarallax instances\n// need to render all in one scroll/resize event\nconst jarallaxList = [];\n\n// get all parents of the element.\nfunction getParents(elem) {\n    const parents = [];\n\n    while (elem.parentElement !== null) {\n        elem = elem.parentElement;\n\n        if (elem.nodeType === 1) {\n            parents.push(elem);\n        }\n    }\n\n    return parents;\n}\n\nfunction updateParallax() {\n    if (!jarallaxList.length) {\n        return;\n    }\n\n    jarallaxList.forEach((data, k) => {\n        const {\n            instance,\n            oldData,\n        } = data;\n\n        const clientRect = instance.$item.getBoundingClientRect();\n\n        const newData = {\n            width: clientRect.width,\n            height: clientRect.height,\n            top: clientRect.top,\n            bottom: clientRect.bottom,\n            wndW: window.innerWidth,\n            wndH,\n        };\n\n        const isResized = !oldData\n                           || oldData.wndW !== newData.wndW\n                           || oldData.wndH !== newData.wndH\n                           || oldData.width !== newData.width\n                           || oldData.height !== newData.height;\n        const isScrolled = isResized\n                           || !oldData\n                           || oldData.top !== newData.top\n                           || oldData.bottom !== newData.bottom;\n\n        jarallaxList[k].oldData = newData;\n\n        if (isResized) {\n            instance.onResize();\n        }\n        if (isScrolled) {\n            instance.onScroll();\n        }\n    });\n\n    raf(updateParallax);\n}\n\nlet instanceID = 0;\n\n// Jarallax class\nclass Jarallax {\n    constructor(item, userOptions) {\n        const self = this;\n\n        self.instanceID = instanceID++;\n\n        self.$item = item;\n\n        self.defaults = {\n            type: 'scroll', // type of parallax: scroll, scale, opacity, scale-opacity, scroll-opacity\n            speed: 0.5, // supported value from -1 to 2\n            imgSrc: null,\n            imgElement: '.jarallax-img',\n            imgSize: 'cover',\n            imgPosition: '50% 50%',\n            imgRepeat: 'no-repeat', // supported only for background, not for <img> tag\n            keepImg: false, // keep <img> tag in it's default place\n            elementInViewport: null,\n            zIndex: -100,\n            disableParallax: false,\n            disableVideo: false,\n\n            // video\n            videoSrc: null,\n            videoStartTime: 0,\n            videoEndTime: 0,\n            videoVolume: 0,\n            videoLoop: true,\n            videoPlayOnlyVisible: true,\n            videoLazyLoading: true,\n\n            // events\n            onScroll: null, // function(calculations) {}\n            onInit: null, // function() {}\n            onDestroy: null, // function() {}\n            onCoverImage: null, // function() {}\n        };\n\n        // prepare data-options\n        const dataOptions = self.$item.dataset || {};\n        const pureDataOptions = {};\n        Object.keys(dataOptions).forEach((key) => {\n            const loweCaseOption = key.substr(0, 1).toLowerCase() + key.substr(1);\n            if (loweCaseOption && typeof self.defaults[loweCaseOption] !== 'undefined') {\n                pureDataOptions[loweCaseOption] = dataOptions[key];\n            }\n        });\n\n        self.options = self.extend({}, self.defaults, pureDataOptions, userOptions);\n        self.pureOptions = self.extend({}, self.options);\n\n        // prepare 'true' and 'false' strings to boolean\n        Object.keys(self.options).forEach((key) => {\n            if (self.options[key] === 'true') {\n                self.options[key] = true;\n            } else if (self.options[key] === 'false') {\n                self.options[key] = false;\n            }\n        });\n\n        // fix speed option [-1.0, 2.0]\n        self.options.speed = Math.min(2, Math.max(-1, parseFloat(self.options.speed)));\n\n        // prepare disableParallax callback\n        if (typeof self.options.disableParallax === 'string') {\n            self.options.disableParallax = new RegExp(self.options.disableParallax);\n        }\n        if (self.options.disableParallax instanceof RegExp) {\n            const disableParallaxRegexp = self.options.disableParallax;\n            self.options.disableParallax = () => disableParallaxRegexp.test(navigator.userAgent);\n        }\n        if (typeof self.options.disableParallax !== 'function') {\n            self.options.disableParallax = () => false;\n        }\n\n        // prepare disableVideo callback\n        if (typeof self.options.disableVideo === 'string') {\n            self.options.disableVideo = new RegExp(self.options.disableVideo);\n        }\n        if (self.options.disableVideo instanceof RegExp) {\n            const disableVideoRegexp = self.options.disableVideo;\n            self.options.disableVideo = () => disableVideoRegexp.test(navigator.userAgent);\n        }\n        if (typeof self.options.disableVideo !== 'function') {\n            self.options.disableVideo = () => false;\n        }\n\n        // custom element to check if parallax in viewport\n        let elementInVP = self.options.elementInViewport;\n        // get first item from array\n        if (elementInVP && typeof elementInVP === 'object' && typeof elementInVP.length !== 'undefined') {\n            [elementInVP] = elementInVP;\n        }\n        // check if dom element\n        if (!(elementInVP instanceof Element)) {\n            elementInVP = null;\n        }\n        self.options.elementInViewport = elementInVP;\n\n        self.image = {\n            src: self.options.imgSrc || null,\n            $container: null,\n            useImgTag: false,\n\n            // position fixed is needed for the most of browsers because absolute position have glitches\n            // on MacOS with smooth scroll there is a huge lags with absolute position - https://github.com/nk-o/jarallax/issues/75\n            // on mobile devices better scrolled with absolute position\n            position: /iPad|iPhone|iPod|Android/.test(navigator.userAgent) ? 'absolute' : 'fixed',\n        };\n\n        if (self.initImg() && self.canInitParallax()) {\n            self.init();\n        }\n    }\n\n    // add styles to element\n    css(el, styles) {\n        if (typeof styles === 'string') {\n            return window.getComputedStyle(el).getPropertyValue(styles);\n        }\n\n        // add transform property with vendor prefix\n        if (styles.transform && supportTransform) {\n            styles[supportTransform] = styles.transform;\n        }\n\n        Object.keys(styles).forEach((key) => {\n            el.style[key] = styles[key];\n        });\n        return el;\n    }\n\n    // Extend like jQuery.extend\n    extend(out) {\n        out = out || {};\n        Object.keys(arguments).forEach((i) => {\n            if (!arguments[i]) {\n                return;\n            }\n            Object.keys(arguments[i]).forEach((key) => {\n                out[key] = arguments[i][key];\n            });\n        });\n        return out;\n    }\n\n    // get window size and scroll position. Useful for extensions\n    getWindowData() {\n        return {\n            width: window.innerWidth || document.documentElement.clientWidth,\n            height: wndH,\n            y: document.documentElement.scrollTop,\n        };\n    }\n\n    // Jarallax functions\n    initImg() {\n        const self = this;\n\n        // find image element\n        let $imgElement = self.options.imgElement;\n        if ($imgElement && typeof $imgElement === 'string') {\n            $imgElement = self.$item.querySelector($imgElement);\n        }\n\n        // check if dom element\n        if (!($imgElement instanceof Element)) {\n            if (self.options.imgSrc) {\n                $imgElement = new Image();\n                $imgElement.src = self.options.imgSrc;\n            } else {\n                $imgElement = null;\n            }\n        }\n\n        if ($imgElement) {\n            if (self.options.keepImg) {\n                self.image.$item = $imgElement.cloneNode(true);\n            } else {\n                self.image.$item = $imgElement;\n                self.image.$itemParent = $imgElement.parentNode;\n            }\n            self.image.useImgTag = true;\n        }\n\n        // true if there is img tag\n        if (self.image.$item) {\n            return true;\n        }\n\n        // get image src\n        if (self.image.src === null) {\n            self.image.src = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n            self.image.bgImage = self.css(self.$item, 'background-image');\n        }\n        return !(!self.image.bgImage || self.image.bgImage === 'none');\n    }\n\n    canInitParallax() {\n        return supportTransform && !this.options.disableParallax();\n    }\n\n    init() {\n        const self = this;\n        const containerStyles = {\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            overflow: 'hidden',\n            pointerEvents: 'none',\n        };\n        let imageStyles = {};\n\n        if (!self.options.keepImg) {\n            // save default user styles\n            const curStyle = self.$item.getAttribute('style');\n            if (curStyle) {\n                self.$item.setAttribute('data-jarallax-original-styles', curStyle);\n            }\n            if (self.image.useImgTag) {\n                const curImgStyle = self.image.$item.getAttribute('style');\n                if (curImgStyle) {\n                    self.image.$item.setAttribute('data-jarallax-original-styles', curImgStyle);\n                }\n            }\n        }\n\n        // set relative position and z-index to the parent\n        if (self.css(self.$item, 'position') === 'static') {\n            self.css(self.$item, {\n                position: 'relative',\n            });\n        }\n        if (self.css(self.$item, 'z-index') === 'auto') {\n            self.css(self.$item, {\n                zIndex: 0,\n            });\n        }\n\n        // container for parallax image\n        self.image.$container = document.createElement('div');\n        self.css(self.image.$container, containerStyles);\n        self.css(self.image.$container, {\n            'z-index': self.options.zIndex,\n        });\n\n        // fix for IE https://github.com/nk-o/jarallax/issues/110\n        if (isIE) {\n            self.css(self.image.$container, {\n                opacity: 0.9999,\n            });\n        }\n\n        self.image.$container.setAttribute('id', `jarallax-container-${self.instanceID}`);\n        self.$item.appendChild(self.image.$container);\n\n        // use img tag\n        if (self.image.useImgTag) {\n            imageStyles = self.extend({\n                'object-fit': self.options.imgSize,\n                'object-position': self.options.imgPosition,\n                // support for plugin https://github.com/bfred-it/object-fit-images\n                'font-family': `object-fit: ${self.options.imgSize}; object-position: ${self.options.imgPosition};`,\n                'max-width': 'none',\n            }, containerStyles, imageStyles);\n\n        // use div with background image\n        } else {\n            self.image.$item = document.createElement('div');\n            if (self.image.src) {\n                imageStyles = self.extend({\n                    'background-position': self.options.imgPosition,\n                    'background-size': self.options.imgSize,\n                    'background-repeat': self.options.imgRepeat,\n                    'background-image': self.image.bgImage || `url(\"${self.image.src}\")`,\n                }, containerStyles, imageStyles);\n            }\n        }\n\n        if (self.options.type === 'opacity' || self.options.type === 'scale' || self.options.type === 'scale-opacity' || self.options.speed === 1) {\n            self.image.position = 'absolute';\n        }\n\n        // 1. Check if one of parents have transform style (without this check, scroll transform will be inverted if used parallax with position fixed)\n        //    discussion - https://github.com/nk-o/jarallax/issues/9\n        // 2. Check if parents have overflow scroll\n        if (self.image.position === 'fixed') {\n            const $parents = getParents(self.$item).filter((el) => {\n                const styles = window.getComputedStyle(el);\n                const parentTransform = styles['-webkit-transform'] || styles['-moz-transform'] || styles.transform;\n                const overflowRegex = /(auto|scroll)/;\n\n                return (parentTransform && parentTransform !== 'none') || overflowRegex.test(styles.overflow + styles['overflow-y'] + styles['overflow-x']);\n            });\n\n            self.image.position = $parents.length ? 'absolute' : 'fixed';\n        }\n\n        // add position to parallax block\n        imageStyles.position = self.image.position;\n\n        // insert parallax image\n        self.css(self.image.$item, imageStyles);\n        self.image.$container.appendChild(self.image.$item);\n\n        // set initial position and size\n        self.onResize();\n        self.onScroll(true);\n\n        // call onInit event\n        if (self.options.onInit) {\n            self.options.onInit.call(self);\n        }\n\n        // remove default user background\n        if (self.css(self.$item, 'background-image') !== 'none') {\n            self.css(self.$item, {\n                'background-image': 'none',\n            });\n        }\n\n        self.addToParallaxList();\n    }\n\n    // add to parallax instances list\n    addToParallaxList() {\n        jarallaxList.push({\n            instance: this,\n        });\n\n        if (jarallaxList.length === 1) {\n            updateParallax();\n        }\n    }\n\n    // remove from parallax instances list\n    removeFromParallaxList() {\n        const self = this;\n\n        jarallaxList.forEach((data, key) => {\n            if (data.instance.instanceID === self.instanceID) {\n                jarallaxList.splice(key, 1);\n            }\n        });\n    }\n\n    destroy() {\n        const self = this;\n\n        self.removeFromParallaxList();\n\n        // return styles on container as before jarallax init\n        const originalStylesTag = self.$item.getAttribute('data-jarallax-original-styles');\n        self.$item.removeAttribute('data-jarallax-original-styles');\n        // null occurs if there is no style tag before jarallax init\n        if (!originalStylesTag) {\n            self.$item.removeAttribute('style');\n        } else {\n            self.$item.setAttribute('style', originalStylesTag);\n        }\n\n        if (self.image.useImgTag) {\n            // return styles on img tag as before jarallax init\n            const originalStylesImgTag = self.image.$item.getAttribute('data-jarallax-original-styles');\n            self.image.$item.removeAttribute('data-jarallax-original-styles');\n            // null occurs if there is no style tag before jarallax init\n            if (!originalStylesImgTag) {\n                self.image.$item.removeAttribute('style');\n            } else {\n                self.image.$item.setAttribute('style', originalStylesTag);\n            }\n\n            // move img tag to its default position\n            if (self.image.$itemParent) {\n                self.image.$itemParent.appendChild(self.image.$item);\n            }\n        }\n\n        // remove additional dom elements\n        if (self.$clipStyles) {\n            self.$clipStyles.parentNode.removeChild(self.$clipStyles);\n        }\n        if (self.image.$container) {\n            self.image.$container.parentNode.removeChild(self.image.$container);\n        }\n\n        // call onDestroy event\n        if (self.options.onDestroy) {\n            self.options.onDestroy.call(self);\n        }\n\n        // delete jarallax from item\n        delete self.$item.jarallax;\n    }\n\n    // it will remove some image overlapping\n    // overlapping occur due to an image position fixed inside absolute position element\n    clipContainer() {\n        // needed only when background in fixed position\n        if (this.image.position !== 'fixed') {\n            return;\n        }\n\n        const self = this;\n        const rect = self.image.$container.getBoundingClientRect();\n        const { width, height } = rect;\n\n        if (!self.$clipStyles) {\n            self.$clipStyles = document.createElement('style');\n            self.$clipStyles.setAttribute('type', 'text/css');\n            self.$clipStyles.setAttribute('id', `jarallax-clip-${self.instanceID}`);\n            const head = document.head || document.getElementsByTagName('head')[0];\n            head.appendChild(self.$clipStyles);\n        }\n\n        const styles = `#jarallax-container-${self.instanceID} {\n           clip: rect(0 ${width}px ${height}px 0);\n           clip: rect(0, ${width}px, ${height}px, 0);\n        }`;\n\n        // add clip styles inline (this method need for support IE8 and less browsers)\n        if (self.$clipStyles.styleSheet) {\n            self.$clipStyles.styleSheet.cssText = styles;\n        } else {\n            self.$clipStyles.innerHTML = styles;\n        }\n    }\n\n    coverImage() {\n        const self = this;\n\n        const rect = self.image.$container.getBoundingClientRect();\n        const contH = rect.height;\n        const { speed } = self.options;\n        const isScroll = self.options.type === 'scroll' || self.options.type === 'scroll-opacity';\n        let scrollDist = 0;\n        let resultH = contH;\n        let resultMT = 0;\n\n        // scroll parallax\n        if (isScroll) {\n            // scroll distance and height for image\n            if (speed < 0) {\n                scrollDist = speed * Math.max(contH, wndH);\n\n                if (wndH < contH) {\n                    scrollDist -= speed * (contH - wndH);\n                }\n            } else {\n                scrollDist = speed * (contH + wndH);\n            }\n\n            // size for scroll parallax\n            if (speed > 1) {\n                resultH = Math.abs(scrollDist - wndH);\n            } else if (speed < 0) {\n                resultH = scrollDist / speed + Math.abs(scrollDist);\n            } else {\n                resultH += (wndH - contH) * (1 - speed);\n            }\n\n            scrollDist /= 2;\n        }\n\n        // store scroll distance\n        self.parallaxScrollDistance = scrollDist;\n\n        // vertical center\n        if (isScroll) {\n            resultMT = (wndH - resultH) / 2;\n        } else {\n            resultMT = (contH - resultH) / 2;\n        }\n\n        // apply result to item\n        self.css(self.image.$item, {\n            height: `${resultH}px`,\n            marginTop: `${resultMT}px`,\n            left: self.image.position === 'fixed' ? `${rect.left}px` : '0',\n            width: `${rect.width}px`,\n        });\n\n        // call onCoverImage event\n        if (self.options.onCoverImage) {\n            self.options.onCoverImage.call(self);\n        }\n\n        // return some useful data. Used in the video cover function\n        return {\n            image: {\n                height: resultH,\n                marginTop: resultMT,\n            },\n            container: rect,\n        };\n    }\n\n    isVisible() {\n        return this.isElementInViewport || false;\n    }\n\n    onScroll(force) {\n        const self = this;\n\n        const rect = self.$item.getBoundingClientRect();\n        const contT = rect.top;\n        const contH = rect.height;\n        const styles = {};\n\n        // check if in viewport\n        let viewportRect = rect;\n        if (self.options.elementInViewport) {\n            viewportRect = self.options.elementInViewport.getBoundingClientRect();\n        }\n        self.isElementInViewport = viewportRect.bottom >= 0\n            && viewportRect.right >= 0\n            && viewportRect.top <= wndH\n            && viewportRect.left <= window.innerWidth;\n\n        // stop calculations if item is not in viewport\n        if (force ? false : !self.isElementInViewport) {\n            return;\n        }\n\n        // calculate parallax helping variables\n        const beforeTop = Math.max(0, contT);\n        const beforeTopEnd = Math.max(0, contH + contT);\n        const afterTop = Math.max(0, -contT);\n        const beforeBottom = Math.max(0, contT + contH - wndH);\n        const beforeBottomEnd = Math.max(0, contH - (contT + contH - wndH));\n        const afterBottom = Math.max(0, -contT + wndH - contH);\n        const fromViewportCenter = 1 - 2 * (wndH - contT) / (wndH + contH);\n\n        // calculate on how percent of section is visible\n        let visiblePercent = 1;\n        if (contH < wndH) {\n            visiblePercent = 1 - (afterTop || beforeBottom) / contH;\n        } else if (beforeTopEnd <= wndH) {\n            visiblePercent = beforeTopEnd / wndH;\n        } else if (beforeBottomEnd <= wndH) {\n            visiblePercent = beforeBottomEnd / wndH;\n        }\n\n        // opacity\n        if (self.options.type === 'opacity' || self.options.type === 'scale-opacity' || self.options.type === 'scroll-opacity') {\n            styles.transform = 'translate3d(0,0,0)';\n            styles.opacity = visiblePercent;\n        }\n\n        // scale\n        if (self.options.type === 'scale' || self.options.type === 'scale-opacity') {\n            let scale = 1;\n            if (self.options.speed < 0) {\n                scale -= self.options.speed * visiblePercent;\n            } else {\n                scale += self.options.speed * (1 - visiblePercent);\n            }\n            styles.transform = `scale(${scale}) translate3d(0,0,0)`;\n        }\n\n        // scroll\n        if (self.options.type === 'scroll' || self.options.type === 'scroll-opacity') {\n            let positionY = self.parallaxScrollDistance * fromViewportCenter;\n\n            // fix if parallax block in absolute position\n            if (self.image.position === 'absolute') {\n                positionY -= contT;\n            }\n\n            styles.transform = `translate3d(0,${positionY}px,0)`;\n        }\n\n        self.css(self.image.$item, styles);\n\n        // call onScroll event\n        if (self.options.onScroll) {\n            self.options.onScroll.call(self, {\n                section: rect,\n\n                beforeTop,\n                beforeTopEnd,\n                afterTop,\n                beforeBottom,\n                beforeBottomEnd,\n                afterBottom,\n\n                visiblePercent,\n                fromViewportCenter,\n            });\n        }\n    }\n\n    onResize() {\n        this.coverImage();\n        this.clipContainer();\n    }\n}\n\n\n// global definition\nconst plugin = function (items) {\n    // check for dom element\n    // thanks: http://stackoverflow.com/questions/384286/javascript-isdom-how-do-you-check-if-a-javascript-object-is-a-dom-object\n    if (typeof HTMLElement === 'object' ? items instanceof HTMLElement : items && typeof items === 'object' && items !== null && items.nodeType === 1 && typeof items.nodeName === 'string') {\n        items = [items];\n    }\n\n    const options = arguments[1];\n    const args = Array.prototype.slice.call(arguments, 2);\n    const len = items.length;\n    let k = 0;\n    let ret;\n\n    for (k; k < len; k++) {\n        if (typeof options === 'object' || typeof options === 'undefined') {\n            if (!items[k].jarallax) {\n                items[k].jarallax = new Jarallax(items[k], options);\n            }\n        } else if (items[k].jarallax) {\n            // eslint-disable-next-line prefer-spread\n            ret = items[k].jarallax[options].apply(items[k].jarallax, args);\n        }\n        if (typeof ret !== 'undefined') {\n            return ret;\n        }\n    }\n\n    return items;\n};\nplugin.constructor = Jarallax;\n\nexport default plugin;\n"]},"metadata":{},"sourceType":"module"}